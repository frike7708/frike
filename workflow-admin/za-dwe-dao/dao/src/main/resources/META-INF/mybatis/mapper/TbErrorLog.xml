<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhongan.dwe.dao.repository.tberrorlog.TbErrorLogRepository">
<insert id="insert" parameterType="com.zhongan.dwe.dao.dataobject.TbErrorLog" useGeneratedKeys="true" keyProperty="id">
 insert into TB_ERROR_LOG (ID,ERROR_CODE,ERROR_TYPE,MESSAGE) values
(#{id} ,#{errorCode} ,#{errorType} ,#{message} )

</insert>

<insert id="batchInsert" parameterType="java.util.List">
 insert into TB_ERROR_LOG (ID,ERROR_CODE,ERROR_TYPE,MESSAGE) values 
<foreach collection="list" item="item" index="index" separator=",">
(#{item.id} ,#{item.errorCode} ,#{item.errorType} ,#{item.message} )
</foreach>
</insert>

<update id="update">
<include refid="updateColumn" />
where ID = #{o.id}
</update>

<update id="updateIncludeNull">
<include refid="updateColumnIncludeNull" />
where ID = #{o.id}
</update>

<sql id="updateColumn">
 update TB_ERROR_LOG 
<set> 
<if test= "o.errorCode!=null">
 ERROR_CODE = #{o.errorCode},
</if>
<if test= "o.errorType!=null">
 ERROR_TYPE = #{o.errorType},
</if>
<if test= "o.message!=null">
 MESSAGE = #{o.message},
</if>
</set>
</sql>

<sql id="updateColumnIncludeNull">
 update TB_ERROR_LOG 
<set> 
 ERROR_CODE = #{o.errorCode},
 ERROR_TYPE = #{o.errorType},
 MESSAGE = #{o.message},
</set>
</sql>

<update id="updateByCondition">
<include refid="updateColumn" />
<include refid="condition" />
</update>

<update id="updateIncludeNullByCondition">
<include refid="updateColumnIncludeNull" />
<include refid="condition" />
</update>

<update id="batchUpdate">
<foreach collection="list" item="item" index="index" open="" 
close="" separator=";"> 
 update TB_ERROR_LOG 
<set> 
<if test="item.errorCode!=null"> 
 ERROR_CODE = #{item.errorCode},
</if> 
<if test="item.errorType!=null"> 
 ERROR_TYPE = #{item.errorType},
</if> 
<if test="item.message!=null"> 
 MESSAGE = #{item.message},
</if> 
</set> 
 where ID = #{item.id} 
</foreach> 
</update>

<update id="batchUpdateIncludeNull">
<foreach collection="list" item="item" index="index" open="" 
close="" separator=";"> 
 update TB_ERROR_LOG 
<set> 
 ERROR_CODE = #{item.errorCode},
 ERROR_TYPE = #{item.errorType},
 MESSAGE = #{item.message},
</set> 
 where ID = #{item.id} 
</foreach> 
</update>

<delete id="deleteByOid" parameterType="String">
 delete from TB_ERROR_LOG where
 ID = #{id}
</delete>

<delete id="batchRemove">
delete from TB_ERROR_LOG where ID in
<foreach item="item" index="index" collection="list" open="("
separator="," close=")">
 #{item}
</foreach>
</delete>

<delete id="deleteByCondition">
 delete from TB_ERROR_LOG
<include refid="condition" />
</delete>

<select id="get" resultType="com.zhongan.dwe.dao.dataobject.TbErrorLog" 
parameterType="String"> 
 select <include refid="allColumns" /> 
 from TB_ERROR_LOG where ID = #{id} 
</select>

<select id="findAll" resultType="com.zhongan.dwe.dao.dataobject.TbErrorLog"> 
 select <include refid="allColumns"/> from TB_ERROR_LOG 
</select>

<select id="findByCondition" resultType="com.zhongan.dwe.dao.dataobject.TbErrorLog" 
parameterType="com.zhongan.dwe.dao.repository.tberrorlog.condition.TbErrorLogCondition"> 
 select <include refid="selectColumns" /> 
 from TB_ERROR_LOG 
<include refid="condition" /> 
<include refid="orderBy" /> 
<if test="page != null and page.start != null and page.limit != null"> 
 limit ${page.start},${page.limit}  
</if> 
</select>

<select id="countAll" resultType="int"> 
 select count(*) from TB_ERROR_LOG 
</select>

<select id="countByCondition" resultType="int"> 
 select count(*) from TB_ERROR_LOG  
<include refid="condition" /> 
</select>

<sql id="selectColumns"> 
<choose>
<when test="select != null and select.columns != null">
<foreach collection="select.columns" item="item" index="index" separator=",">
 ${item} 
</foreach>
</when> 
<otherwise><include refid="allColumns"/></otherwise>
</choose>
</sql>

<sql id="allColumns">
 ID as id, ERROR_CODE as errorCode, ERROR_TYPE as errorType, MESSAGE as message</sql>	
	
<sql id="orderBy">
<if test="orderBy != null and orderBy.orderBy != null"> 
 order by 
<foreach item="item" index="index" collection="orderBy.orderBy" separator=","> 
 ${index} ${item} 
</foreach>
</if>
</sql>	

<sql id="condition">
<where>
<if test= "where != null and where.inId != null">
and ID in 
<foreach collection="where.inId" index="index" item="item" open="(" separator="," close=")">
 #{item} 
</foreach>
</if> 
<if test= "where != null and where.inErrorCode != null">
and ERROR_CODE in 
<foreach collection="where.inErrorCode" index="index" item="item" open="(" separator="," close=")">
 #{item} 
</foreach>
</if> 
<if test= "where != null and where.inErrorType != null">
and ERROR_TYPE in 
<foreach collection="where.inErrorType" index="index" item="item" open="(" separator="," close=")">
 #{item} 
</foreach>
</if> 
<if test= "where != null and where.inMessage != null">
and MESSAGE in 
<foreach collection="where.inMessage" index="index" item="item" open="(" separator="," close=")">
 #{item} 
</foreach>
</if> 
<if test= "where != null and where.notInId != null">
and ID not in 
<foreach collection="where.notInId" index="index" item="item" open="(" separator="," close=")">
 #{item} 
</foreach>
</if> 
<if test= "where != null and where.notInErrorCode != null">
and ERROR_CODE not in 
<foreach collection="where.notInErrorCode" index="index" item="item" open="(" separator="," close=")">
 #{item} 
</foreach>
</if> 
<if test= "where != null and where.notInErrorType != null">
and ERROR_TYPE not in 
<foreach collection="where.notInErrorType" index="index" item="item" open="(" separator="," close=")">
 #{item} 
</foreach>
</if> 
<if test= "where != null and where.notInMessage != null">
and MESSAGE not in 
<foreach collection="where.notInMessage" index="index" item="item" open="(" separator="," close=")">
 #{item} 
</foreach>
</if> 
<if test= "where != null and where.idIsNull == true">
and ID is null
</if>
<if test= "where != null and where.idIsNull == false">
and ID is not null
</if>
<if test= "where != null and where.errorCodeIsNull == true">
and ERROR_CODE is null
</if>
<if test= "where != null and where.errorCodeIsNull == false">
and ERROR_CODE is not null
</if>
<if test= "where != null and where.errorTypeIsNull == true">
and ERROR_TYPE is null
</if>
<if test= "where != null and where.errorTypeIsNull == false">
and ERROR_TYPE is not null
</if>
<if test= "where != null and where.messageIsNull == true">
and MESSAGE is null
</if>
<if test= "where != null and where.messageIsNull == false">
and MESSAGE is not null
</if>
<if test= "where != null and where.idNotEqual != null">
and ID != #{where.idNotEqual}
</if>
<if test= "where != null and where.errorCodeNotEqual != null">
and ERROR_CODE != #{where.errorCodeNotEqual}
</if>
<if test= "where != null and where.errorTypeNotEqual != null">
and ERROR_TYPE != #{where.errorTypeNotEqual}
</if>
<if test= "where != null and where.messageNotEqual != null">
and MESSAGE != #{where.messageNotEqual}
</if>
<if test= "where != null and where.likeId != null">
and ID like CONCAT('%','${where.likeId}','%')
</if> 
<if test= "where != null and where.likeErrorCode != null">
and ERROR_CODE like CONCAT('%','${where.likeErrorCode}','%')
</if> 
<if test= "where != null and where.likeErrorType != null">
and ERROR_TYPE like CONCAT('%','${where.likeErrorType}','%')
</if> 
<if test= "where != null and where.likeMessage != null">
and MESSAGE like CONCAT('%','${where.likeMessage}','%')
</if> 
<if test= "where != null and where.leftLikeId != null">
and ID like CONCAT('%','${where.leftLikeId}')
</if> 
<if test= "where != null and where.leftLikeErrorCode != null">
and ERROR_CODE like CONCAT('%','${where.leftLikeErrorCode}')
</if> 
<if test= "where != null and where.leftLikeErrorType != null">
and ERROR_TYPE like CONCAT('%','${where.leftLikeErrorType}')
</if> 
<if test= "where != null and where.leftLikeMessage != null">
and MESSAGE like CONCAT('%','${where.leftLikeMessage}')
</if> 
<if test= "where != null and where.rightLikeId != null">
and ID like CONCAT('${where.rightLikeId}','%')
</if> 
<if test= "where != null and where.rightLikeErrorCode != null">
and ERROR_CODE like CONCAT('${where.rightLikeErrorCode}','%')
</if> 
<if test= "where != null and where.rightLikeErrorType != null">
and ERROR_TYPE like CONCAT('${where.rightLikeErrorType}','%')
</if> 
<if test= "where != null and where.rightLikeMessage != null">
and MESSAGE like CONCAT('${where.rightLikeMessage}','%')
</if> 
<if test= "where != null and where.notLikeId != null">
and ID not like CONCAT('%','${where.notLikeId}','%')
</if> 
<if test= "where != null and where.notLikeErrorCode != null">
and ERROR_CODE not like CONCAT('%','${where.notLikeErrorCode}','%')
</if> 
<if test= "where != null and where.notLikeErrorType != null">
and ERROR_TYPE not like CONCAT('%','${where.notLikeErrorType}','%')
</if> 
<if test= "where != null and where.notLikeMessage != null">
and MESSAGE not like CONCAT('%','${where.notLikeMessage}','%')
</if> 
<if test= "where != null and where.notLeftLikeId != null">
and ID not like CONCAT('%','${where.notLeftLikeId}')
</if> 
<if test= "where != null and where.notLeftLikeErrorCode != null">
and ERROR_CODE not like CONCAT('%','${where.notLeftLikeErrorCode}')
</if> 
<if test= "where != null and where.notLeftLikeErrorType != null">
and ERROR_TYPE not like CONCAT('%','${where.notLeftLikeErrorType}')
</if> 
<if test= "where != null and where.notLeftLikeMessage != null">
and MESSAGE not like CONCAT('%','${where.notLeftLikeMessage}')
</if> 
<if test= "where != null and where.notRightLikeId != null">
and ID not like CONCAT('%','${where.notRightLikeId}','%')
</if> 
<if test= "where != null and where.notRightLikeErrorCode != null">
and ERROR_CODE not like CONCAT('%','${where.notRightLikeErrorCode}','%')
</if> 
<if test= "where != null and where.notRightLikeErrorType != null">
and ERROR_TYPE not like CONCAT('%','${where.notRightLikeErrorType}','%')
</if> 
<if test= "where != null and where.notRightLikeMessage != null">
and MESSAGE not like CONCAT('%','${where.notRightLikeMessage}','%')
</if> 
<if test= "where != null and where.greaterThanId != null and where.lessThanId != null">
and ID &lt; #{where.lessThanId} and ID &gt; #{where.greaterThanId}
</if>
<if test= "where != null and where.equalAndGreaterThanId != null and where.equalAndLessThanId != null">
and ID &lt;= #{where.equalAndLessThanId} and ID &gt;= #{where.equalAndGreaterThanId}
</if>
<if test= "where != null and where.greaterThanErrorCode != null and where.lessThanErrorCode != null">
and ERROR_CODE &lt; #{where.lessThanErrorCode} and ERROR_CODE &gt; #{where.greaterThanErrorCode}
</if>
<if test= "where != null and where.equalAndGreaterThanErrorCode != null and where.equalAndLessThanErrorCode != null">
and ERROR_CODE &lt;= #{where.equalAndLessThanErrorCode} and ERROR_CODE &gt;= #{where.equalAndGreaterThanErrorCode}
</if>
<if test= "where != null and where.greaterThanErrorType != null and where.lessThanErrorType != null">
and ERROR_TYPE &lt; #{where.lessThanErrorType} and ERROR_TYPE &gt; #{where.greaterThanErrorType}
</if>
<if test= "where != null and where.equalAndGreaterThanErrorType != null and where.equalAndLessThanErrorType != null">
and ERROR_TYPE &lt;= #{where.equalAndLessThanErrorType} and ERROR_TYPE &gt;= #{where.equalAndGreaterThanErrorType}
</if>
<if test= "where != null and where.greaterThanMessage != null and where.lessThanMessage != null">
and MESSAGE &lt; #{where.lessThanMessage} and MESSAGE &gt; #{where.greaterThanMessage}
</if>
<if test= "where != null and where.equalAndGreaterThanMessage != null and where.equalAndLessThanMessage != null">
and MESSAGE &lt;= #{where.equalAndLessThanMessage} and MESSAGE &gt;= #{where.equalAndGreaterThanMessage}
</if>
<if test= "where != null and where.id != null">
and ID = #{where.id}
</if> 
<if test= "where != null and where.errorCode != null">
and ERROR_CODE = #{where.errorCode}
</if> 
<if test= "where != null and where.errorType != null">
and ERROR_TYPE = #{where.errorType}
</if> 
<if test= "where != null and where.message != null">
and MESSAGE = #{where.message}
</if> 
 </where>
 </sql>	
</mapper>